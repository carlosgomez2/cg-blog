<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="theme-color" content="#141b1d" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title> Development Environment on Manjaro @  CG</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <!-- Fav -->
    <link rel="apple-touch-icon" sizes="57x57" href="/cg-blog/assets/img/fav/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/cg-blog/assets/img/fav/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/cg-blog/assets/img/fav/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/cg-blog/assets/img/fav/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/cg-blog/assets/img/fav/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/cg-blog/assets/img/fav/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/cg-blog/assets/img/fav/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/cg-blog/assets/img/fav/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/cg-blog/assets/img/fav/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192"  href="/cg-blog/assets/img/fav/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/cg-blog/assets/img/fav/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="/cg-blog/assets/img/fav/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/cg-blog/assets/img/fav/favicon-16x16.png">
    <link rel="manifest" href="/cg-blog/assets/img/fav/manifest.json">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/cg-blog/assets/img/fav/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Fira+Sans:wght@500;600&family=Ubuntu:wght@500&display=swap" rel="stylesheet">
    <!-- End Fav -->
    <!-- Styles -->
    
      <link rel="stylesheet" href="/cg-blog/assets/post-assets/008-development-environment-on-manjaro/css/main.css" type="text/css" media="screen" /> <link rel="stylesheet" href="/cg-blog/assets/post-assets/008-development-environment-on-manjaro/css/thankful_eyes.css" type="text/css" media="screen" />
    
    <!-- End Styles -->
  </head>
<body>
  <div class="post">
<div class="container">

  <h1>
    Manjaro Post Install Guide
  </h1>

  <div class="date">
    July 25, 2018
  </div>

  <p>
    Manjaro is my distribution that I choose for development environment, works quite well in my old Asus ROG G75VW,
    before Manjaro used Ubuntu 16.04 that I loved but their packages were somewhat old and I wanted to try Plasma 5 but
    not with distributions that came from Debian.
  </p>

  <p>
    The option was clear and easy, Arch was what most suited for me. Previously I had tried Arch but I did not like that
    I had to spend days configuring my laptop to had everything I need to work. I had never tried Manjaro, I knew it was
    derivative from Arch but I was not sure that he would work well on my computer.
  </p>

  <p>
    I tested Manjaro with Plasma 5 and I love it! run pretty fast and smooth, work out of the box, easy Nvidia drivers installation and so on.
  </p>

  <p>
    By default Manjaro has many many packages that I used to install on Ubuntu after install, no more with Manjaro this
    saves me lot of time.
  </p>

  <p>
    So, no more talk. This is my configuration for set a basic Ruby on Rails development environment.
  </p>

  <img src="/cg-blog/assets/post-assets/008-development-environment-on-manjaro/img/manjaro-logo.png" alt="Manjaro" class="img-logo">

  <h2>
    Development
  </h2>

  <p>
    List of tools that I used to install:
  </p>

  <ul>
    <li>OhMyZsh</li>
    <li>Ruby on Rails</li>
    <li>Rbenv</li>
    <li>MariaDB</li>
    <li>Powerline Fonts</li>
    <li>Misc. Gems</li>
    <li>Meteor</li>
    <li>Redis</li>
    <li>PostgreSQL</li>
  </ul>

  <h3>
    OhMyZsh
  </h3>

  <ul>
    <li>Install script:</li>
  </ul>

  <figure class="highlight"><pre><code class="language-bash" data-lang="bash">  sh <span class="nt">-c</span> <span class="s2">"</span><span class="si">$(</span>curl <span class="nt">-fsSL</span> https://raw.githubusercontent.com/robbyrussell/oh-my-zsh/master/tools/install.sh<span class="si">)</span><span class="s2">"</span>
  </code></pre></figure>

  <ul>
    <li>Copy .zsh folder into home folder</li>
    <li>Copy ~/.zshrc into home folder</li>
    <li>Copy ~/.bashrc into home folder</li>
  </ul>

  <h3>
    Install Fonts
  </h3>

  <figure class="highlight"><pre><code class="language-bash" data-lang="bash">  <span class="nb">cd</span> /tmp
  git clone https://github.com/powerline/fonts.git <span class="nt">--depth</span><span class="o">=</span>1
  <span class="nb">cd </span>fonts
  <span class="c"># Install fonts</span>
  ./install.sh
  <span class="c"># clean</span>
  <span class="nb">cd</span> ..
  <span class="nb">rm</span> <span class="nt">-rf</span> fonts
  <span class="nb">cd</span> ~
  <span class="c"># Reload font cache</span>
  fc-cache <span class="nt">-vf</span>
  <span class="c"># Space Mono for Powerline Regular 14 is my terminal font</span>
  </code></pre></figure>

  <h3>
    Install MariaDb
  </h3>

  <p>Instructions on <a href="https://gitlab.com/snippets/1737399.js">Gitlab Snippet</a></p>

  <h3>
    Install rbenv
  </h3>

  <figure class="highlight"><pre><code class="language-bash" data-lang="bash">  <span class="nb">cd
  </span>git clone https://github.com/rbenv/rbenv.git ~/.rbenv
  git clone https://github.com/rbenv/ruby-build.git ~/.rbenv/plugins/ruby-build
  <span class="c"># Export path environment variable to .zshrc &amp; .bashrc</span>
  rbenv <span class="nb">install </span>2.3.7
  rbenv global 2.3.7
  <span class="nb">exec</span> <span class="nv">$SHELL</span>
  <span class="c"># Or reopen terminal</span>
  ruby <span class="nt">-v</span>
  <span class="c"># Install bundle</span>
  gem <span class="nb">install </span>bundler
  <span class="c"># Rehash</span>
  rbenv rehash
  </code></pre></figure>

  <h3>
    Problems with Ruby installation
  </h3>

  <p><strong>BUILD FAILED (ManjaroLinux 17.1.11 using ruby-build 20180618-9-g00490d3)</strong></p>

  <figure class="highlight"><pre><code class="language-bash" data-lang="bash">  <span class="nb">sudo </span>pacman <span class="nt">-S</span> base-devel libffi libyaml openssl zlib openssl-1.0
  which gcc
  <span class="c"># /usr/bin/gcc</span>
  <span class="nv">PKG_CONFIG_PATH</span><span class="o">=</span>/usr/lib/openssl-1.0/pkgconfig <span class="nv">CC</span><span class="o">=</span>/usr/bin/gcc rbenv <span class="nb">install </span>2.3.7
  </code></pre></figure>

  <p>
    If /tmp no space left?
  </p>

  <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nb">sudo rm</span> <span class="nt">-rf</span> /tmp/<span class="k">*</span></code></pre></figure>

  <p>
    If still fails
  </p>

  <figure class="highlight"><pre><code class="language-bash" data-lang="bash">  <span class="nb">sudo </span>pacman <span class="nt">-Ss</span> gcc5
  <span class="c"># community/gcc54 5.4.1-1</span>
  <span class="c"># Install current gcc5 version</span>
  <span class="nb">sudo </span>pacman <span class="nt">-S</span> gcc54
  <span class="c"># try again wich gcc path in PKG_CONFIG_PATH</span>
  </code></pre></figure>

  <p>Sources: <a href="https://github.com/rbenv/ruby-build/issues/1118">Manjaro</a>, <a href="https://github.com/rbenv/ruby-build/issues/930">Arch</a>.</p>

  <h3>
    Configure Git
  </h3>

  <figure class="highlight"><pre><code class="language-bash" data-lang="bash">  git config <span class="nt">--global</span> color.ui <span class="nb">true
  </span>git config <span class="nt">--global</span> user.name <span class="s2">"Carlos Gomez"</span>
  git config <span class="nt">--global</span> user.email <span class="s2">"carlosgomez.deb@gmail.com"</span>
  <span class="c"># copy your .ssh folder or create a new key and add to github and gitlab</span>
  ssh-keygen <span class="nt">-t</span> rsa <span class="nt">-b</span> 4096 <span class="nt">-C</span> <span class="s2">"carlosgomez.deb@gmail.com"</span>
  <span class="nb">cat</span> ~/.ssh/id_rsa.pub
  <span class="c"># Github</span>
  ssh <span class="nt">-T</span> git@github.com
  <span class="c"># Gitlab</span>
  ssh <span class="nt">-T</span> git@gitlab.com
  </code></pre></figure>

  <h3>
    Rails 5.0.7 retrocompatible with 5.0.0.1
  </h3>

  <figure class="highlight"><pre><code class="language-bash" data-lang="bash">  <span class="c"># Install Rails</span>
  gem <span class="nb">install </span>rails <span class="nt">-v</span> 5.0.7
  rbenv rehash
  <span class="c"># Check version</span>
  rails <span class="nt">-v</span>
  <span class="c"># Rails 5.0.7</span>
  </code></pre></figure>

  <h3>
    Gems
  </h3>

  <figure class="highlight"><pre><code class="language-bash" data-lang="bash">  gem <span class="nb">install </span>foreman rubocop jekyll github-pages
  <span class="c"># optional if I am working with ecommerce</span>
  gem <span class="nb">install </span>spree
  </code></pre></figure>

  <h3>
    MeteorJS
  </h3>

  <figure class="highlight"><pre><code class="language-bash" data-lang="bash">curl https://install.meteor.com/ | sh</code></pre></figure>

  <h3>
    Redis
  </h3>

  <figure class="highlight"><pre><code class="language-bash" data-lang="bash">  <span class="nb">sudo </span>pacman <span class="nt">-S</span> redis
  <span class="nb">sudo </span>systemctl <span class="nb">enable</span> <span class="nt">--now</span> redis.service
  <span class="c"># Check if Redis is up</span>
  <span class="nb">sudo </span>systemctl status redis.service
  </code></pre></figure>

  <h3>
    PostgreSQL
  </h3>

  <figure class="highlight"><pre><code class="language-bash" data-lang="bash">  <span class="nb">sudo </span>pacman <span class="nt">-S</span> postgresql
  <span class="nb">sudo </span>su postgres <span class="nt">-l</span> <span class="c"># or sudo -u postgres -i</span>
  initdb <span class="nt">--locale</span> <span class="nv">$LANG</span> <span class="nt">-E</span> UTF8 <span class="nt">-D</span> <span class="s1">'/var/lib/postgres/data/'</span>
  <span class="nb">exit
  sudo </span>systemctl <span class="nb">enable</span> <span class="nt">--now</span> postgresql.service
  <span class="c"># Check if PostgreSQL is up</span>
  <span class="nb">sudo </span>systemctl status postgresql.service
  </code></pre></figure>

  <h4>
    Setting up Postgres User
  </h4>

  <figure class="highlight"><pre><code class="language-sql" data-lang="sql">  <span class="n">psql</span> <span class="o">-</span><span class="n">U</span> <span class="n">postgres</span>
  <span class="k">CREATE</span> <span class="k">USER</span> <span class="n">rasalghul</span> <span class="n">PASSWORD</span> <span class="s1">'toor'</span><span class="p">;</span>
  <span class="c1">-- if user exist</span>
  <span class="k">DROP</span> <span class="k">USER</span> <span class="n">rasalghul</span><span class="p">;</span>
  <span class="c1">-- Grant privileges</span>
  <span class="k">ALTER</span> <span class="k">ROLE</span> <span class="n">rasalghul</span> <span class="k">WITH</span> <span class="n">SUPERUSER</span><span class="p">;</span>
  </code></pre></figure>

  <p>Source <a href="https://www.nanotutoriales.com/como-crear-un-usuario-y-asignarle-permisos-en-postgresql">Configure PostgreSQL</a></p>

  <h3>Conclusion</h3>

  <p>
    So, with this few steps I have fully functional Distro for web development, in future post I have planned to include
    some tools that I most use, such code editors, desktop environment tunning for productivity, konsole configurations and
    addons, etc. keep tuned...
  </p>

  <hr>

  <div class="date">
    <h5>Carlos Gomez 2018</h5>
  </div>
</div>
</div>

</body>
  
    <!-- Custom JS -->
    <script src="//code.jquery.com/jquery-2.1.4.min.js"></script>
    <script src="/cg-blog/assets/js/common.js"></script>

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-124592042-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-124592042-1');
    </script>
  
  <script>
    console.log("BaseURL: " + "/cg-blog")
    console.log("Page Styles: " + "<link rel="stylesheet" href="/cg-blog/assets/post-assets/008-development-environment-on-manjaro/css/main.css" type="text/css" media="screen" /> <link rel="stylesheet" href="/cg-blog/assets/post-assets/008-development-environment-on-manjaro/css/thankful_eyes.css" type="text/css" media="screen" />")
  </script>
</html>
